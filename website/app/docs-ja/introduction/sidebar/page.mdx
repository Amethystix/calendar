---
title: Sidebar
description: Enable the built-in calendar sidebar and replace it with custom layouts.
---

# サイドバー

DayFlow のサイドバーは、複数カレンダーの切り替えや近日イベント、独自のフィルターなどの「補助操作」をまとめて表示する領域です。標準 UI を使うことも、自作コンポーネントに差し替えることもできます。[サイドバーのデモを見る](/docs-ja/features/sidebar)

## 設定リファレンス

サイドバーは `useCalendarApp` の `useSidebar` に `SidebarConfig` オブジェクトを渡すことで設定できます。

| プロパティ                   | 型                                                                 | 説明                                                                                                       | デフォルト |
| ---------------------------- | ------------------------------------------------------------------ | ---------------------------------------------------------------------------------------------------------- | ---------- |
| `enabled`                    | `boolean`                                                          | サイドバーを有効にするかどうか。                                                                           | `true`     |
| `width`                      | `number \| string`                                                 | サイドバーの幅（例：`240` または `'20%'`）。                                                               | `'240px'`  |
| `initialCollapsed`           | `boolean`                                                          | デフォルトでサイドバーを折りたたむかどうか。                                                               | `false`    |
| `render`                     | `(props: CalendarSidebarRenderProps) => React.ReactNode`           | サイドバー UI を完全にオーバーライドします。                                                               | -          |
| `createCalendarMode`         | `'inline' \| 'modal'`                                              | 新しいカレンダーを作成するモード：`inline`（リスト内で直接編集）または `modal`（ポップアップダイアログ）。 | `'inline'` |
| `renderCalendarContextMenu`  | `(calendar: CalendarType, onClose: () => void) => React.ReactNode` | カレンダーアイテムの右クリックメニューをカスタマイズします。                                               | -          |
| `renderCreateCalendarDialog` | `(props: CreateCalendarDialogProps) => React.ReactNode`            | カレンダー作成ダイアログをカスタマイズします（`modal` モードで使用）。                                     | -          |

## 標準サイドバーを有効化する

`useSidebar` にオプションを渡すだけで、折りたたみボタンやカレンダーごとの可視状態トグルが揃った UI が表示されます。

```tsx copy {17-20}
import {
  useCalendarApp,
  DayFlowCalendar,
  createDayView,
  createWeekView,
  createMonthView,
  createDragPlugin,
  ViewType,
} from '@dayflow/core';

const calendar = useCalendarApp({
  views: [createMonthView(), createWeekView(), createDayView()],
  plugins: [createDragPlugin()],
  events,
  calendars,
  defaultView: ViewType.WEEK,
  useSidebar: {
    enabled: true,
    width: 280, // ピクセル単位で幅を調整
  },
});

<DayFlowCalendar calendar={calendar} />;
```

## 完全なカスタマイズ

独自のサイドバーコンポーネントを使用することも可能です。`useSidebar.render` にレンダリング関数を渡すだけで、リアルタイムのカレンダー状態とヘルパーアクションを受け取ることができます。

```tsx copy
import type { CalendarSidebarRenderProps } from '@dayflow/core';

const CustomSidebar = ({
  app,
  calendars,
  toggleCalendarVisibility,
  toggleAll,
  isCollapsed,
  setCollapsed,
}: CalendarSidebarRenderProps) => {
  if (isCollapsed) {
    return <button onClick={() => setCollapsed(false)}>展開する</button>;
  }

  return (
    <aside className="flex h-full flex-col gap-4 p-4">
      <header className="flex items-center justify-between">
        <h3 className="text-sm font-semibold">カレンダー一覧</h3>
        <div className="space-x-2">
          <button onClick={() => toggleAll(true)}>すべて表示</button>
          <button onClick={() => toggleAll(false)}>すべて非表示</button>
        </div>
      </header>
      <ul className="space-y-2">
        {calendars.map(calendar => (
          <li key={calendar.id} className="flex items-center gap-2 text-sm">
            <input
              type="checkbox"
              checked={calendar.isVisible}
              onChange={() =>
                toggleCalendarVisibility(calendar.id, !calendar.isVisible)
              }
            />
            <span
              className="h-2.5 w-2.5 rounded-full"
              style={{ backgroundColor: calendar.colors.eventColor }}
            />
            {calendar.name}
          </li>
        ))}
      </ul>
      <section className="rounded-xl border border-slate-200 p-3 text-xs">
        <p>選択日: {app.getCurrentDate().toDateString()}</p>
        <p>イベント総数: {app.getEvents().length}</p>
      </section>
    </aside>
  );
};

const calendar = useCalendarApp({
  /* ... */
  useSidebar: {
    enabled: true,
    width: 320,
    render: props => <CustomSidebar {...props} />,
  },
});
```

`CalendarSidebarRenderProps` は `toggleCalendarVisibility`、`toggleAll`、`isCollapsed`、`setCollapsed`、そして現在の `app` インスタンスを提供するため、カスタムサイドバー内でイベントリストや選択された日付などを簡単に読み取ることができます。

よりインタラクティブな例については [機能: Sidebar](/docs-ja/features/sidebar) を参照してください。

## 関連ドキュメント

- [はじめに](/docs-ja/introduction) - 基本的なセットアップ
- [イベント](/docs-ja/introduction/events) - イベント管理
- [ビュー](/docs-ja/introduction/views) - カレンダービュー
